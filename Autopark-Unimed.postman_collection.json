{
  "info": {
    "_postman_id": "d3a21f5a-2ef5-4f2a-9f0f-collection-autopark-unimed",
    "name": "Autopark Unimed - Vouchers",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Coleção para testar a API de vouchers do AutoPark usada pelo plugin Unimed Promoção."
  },
  "variable": [
    { "key": "baseUrl", "value": "https://sys.autopark.com.br/api/v1" },
    { "key": "api_token", "value": "AP6nkLLm16BcJNifgpwjMZQbWqZ9RelptlwYZiAbtjOJ1AfAFFKfeu9WlQIv" },
    { "key": "promotion_id", "value": "1" },
    { "key": "name", "value": "Fulano de Tal" },
    { "key": "cpf", "value": "00000000000" },
    { "key": "email", "value": "fulano@example.com" },
    { "key": "license_plate", "value": "ABC1D23" },
    { "key": "branch_id", "value": "1" }
  ],
  "item": [
    {
      "name": "Emitir voucher (POST /vouchers)",
      "request": {
        "method": "POST",
        "header": [
          { "key": "Content-Type", "name": "Content-Type", "value": "application/json", "type": "text" },
          { "key": "X-Requested-With", "name": "X-Requested-With", "value": "XMLHttpRequest", "type": "text" }
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"api_token\": \"{{api_token}}\",\n  \"promotion_id\": {{promotion_id}},\n  \"name\": \"{{name}}\",\n  \"cpf\": \"{{cpf}}\",\n  \"email\": \"{{email}}\",\n  \"license_plate\": \"{{license_plate}}\",\n  \"branch_id\": \"{{branch_id}}\"\n}"
        },
        "url": {
          "raw": "{{baseUrl}}/vouchers",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "vouchers"
          ]
        },
        "description": "Gera um voucher na API do AutoPark. O retorno esperado inclui o campo `qrcode` (string) usado pelo plugin para gerar a imagem."
      },
      "response": []
    }
  ]
}
